# Goodreads API – Project Summary
### Project Overview

This project is a simplified Goodreads-style application, built as a REST API for managing users, books, reviews, and social interactions like following other users and fetching a personalized newsfeed.

### Tech Stack

Backend Framework: FastAPI (Python 3.12) – chosen for its async support, automatic OpenAPI docs, and modern Python typing.

Database: PostgreSQL – used for relational data management (users, books, reviews, followers).

ORM / Database Access: psycopg – lightweight direct DB access; queries executed via connection pooling.

Containerization: Docker & Docker Compose – ensures consistent development and testing environments.

### Integration Tests: 
requests-based tests with live API calls inside Docker to validate full system interactions.

### Documentation & API Exploration: 
Swagger UI automatically generated by FastAPI at /docs.


---

## Local Setup & Testing

## Requirements

- Docker
- Docker Compose

---

### Setup & Run

1. Clone the repository:

   ```bash
   git clone https://github.com/black-x98/goodreads
   cd goodreads

2. Build and start the containers:
   ```bash
   docker compose up --build

This will:

    Build the api container

    Start a PostgreSQL database container (db)

    Automatically run database migrations and seed initial data

Wait until the API logs show:

    goodreads_api  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)

This means the API is ready.

### Accessing the API

Open your browser and go to:

http://127.0.0.1:8000/docs 

This is the FastAPI Swagger UI where you can:

    View all endpoints

    Test requests interactively

    See seeded users, books, reviews, and followers

### Seed Data

On startup, the API automatically inserts seed data if it doesn't already exist. The seed includes:

    Users (e.g., Alice, Bob)

    Books (e.g., Clean Code, The Pragmatic Programmer)

    Reviews for books

    Follower relationships between users

Note: The seeding is fully idempotent. Restarting the container will not create duplicates.

The API uses environment variables for DB connection. Defaults are:

      DB_HOST=db
      DB_PORT=5432
      DB_NAME=goodreads
      DB_USER=postgres
      DB_PASSWORD=postgres

To stop the containers:

    docker compose down

To persist DB data between runs, the project uses a Docker volume postgres_data.

To run the unit tests for the project, run the following command: 

    pytest tests/

To run a basic integration test of the project, run the following command: 

    python3.12 tests/integration_test.py
